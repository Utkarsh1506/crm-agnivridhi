{% extends 'base.html' %}
{% block title %}Route Directory - Agnivridhi CRM{% endblock %}

{% block sidebar %}
<nav class="col-md-3 col-lg-2 d-md-block sidebar">
  <div class="position-sticky pt-3">
    <ul class="nav flex-column">
      <li class="nav-item"><a class="nav-link" href="{% url 'accounts:dashboard' %}"><i class="bi bi-house"></i> Dashboard</a></li>
    </ul>
  </div>
</nav>
{% endblock %}

{% block content %}
<h1 class="h2 mb-3"><i class="bi bi-diagram-2"></i> Route Directory</h1>
<p class="text-muted">Key pages grouped by role/module. Actual access is enforced by view permissions.</p>

{% for group, items in routes.items %}
  <div class="card mb-3">
    <div class="card-header text-capitalize">{{ group }}</div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-sm mb-0">
          <thead>
            <tr>
              <th>Path</th>
              <th>Name</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            {% for row in items %}
            <tr>
              <td><code>{{ row.path }}</code></td>
              <td>{{ row.name }}</td>
              <td>{{ row.desc }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endfor %}
{% endblock %}
