{% extends 'base.html' %}

{% block title %}Upload Document - Agnivridhi CRM{% endblock %}

{% block sidebar %}
<nav class="col-md-3 col-lg-2 d-md-block sidebar">
  <div class="position-sticky pt-3">
    <ul class="nav flex-column">
      <li class="nav-item"><a class="nav-link" href="{% url 'accounts:client_portal' %}"><i class="bi bi-house"></i> Home</a></li>
      <li class="nav-item"><a class="nav-link" href="{% url 'applications:application_list' %}"><i class="bi bi-file-earmark-text"></i> My Applications</a></li>
      <li class="nav-item"><a class="nav-link" href="{% url 'schemes:scheme_list' %}"><i class="bi bi-award"></i> Schemes</a></li>
      <li class="nav-item"><a class="nav-link active" href="{% url 'documents:client_documents_list' %}"><i class="bi bi-file-pdf"></i> Documents</a></li>
      <li class="nav-item"><a class="nav-link" href="{% url 'payments:payment_list' %}"><i class="bi bi-credit-card"></i> Payments</a></li>
    </ul>
  </div>
</nav>
{% endblock %}

{% block content %}
<h1 class="h2 mb-4"><i class="bi bi-upload"></i> Upload Document</h1>

<div class="card">
  <div class="card-body">
    <form method="post" enctype="multipart/form-data" novalidate>
      {% csrf_token %}
      <div class="mb-3">
        <label class="form-label">Document Type</label>
        {{ form.document_type }}
        {% if form.document_type.errors %}
          <div class="text-danger small">{{ form.document_type.errors.0 }}</div>
        {% endif %}
      </div>
      <div class="mb-3">
        <label class="form-label">Title</label>
        {{ form.title }}
        {% if form.title.errors %}
          <div class="text-danger small">{{ form.title.errors.0 }}</div>
        {% endif %}
      </div>
      <div class="mb-3">
        <label class="form-label">Description</label>
        {{ form.description }}
        {% if form.description.errors %}
          <div class="text-danger small">{{ form.description.errors.0 }}</div>
        {% endif %}
      </div>
      <div class="mb-3">
        <label class="form-label">File</label>
        {{ form.file }}
        <div class="form-text">Max size 25 MB. Allowed common formats (PDF, DOCX, XLSX, JPG, PNG).</div>
        {% if form.file.errors %}
          <div class="text-danger small">{{ form.file.errors.0 }}</div>
        {% endif %}
      </div>
      <div class="d-flex gap-2">
        <a href="{% url 'documents:client_documents_list' %}" class="btn btn-outline-secondary"><i class="bi bi-arrow-left"></i> Back</a>
        <button type="submit" class="btn btn-primary"><i class="bi bi-cloud-arrow-up"></i> Upload</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
