# ЁЯУЛ рдХрд░рд╛рд░ рдкреНрд░рдгрд╛рд▓реА - рддреНрд╡рд░рд┐рдд рд╕рдВрджрд░реНрдн рдЧрд╛рдЗрдб (QUICK GUIDE)

## тЬЕ рддреИрдпрд╛рд░ рд╣реИ - рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП!

рдЖрдкрдХреА рдХрд░рд╛рд░ рдЬрдирд░реЗрд╢рди рдкреНрд░рдгрд╛рд▓реА рдЕрдм рдкреВрд░реА рддрд░рд╣ рддреИрдпрд╛рд░ рд╣реИред

---

## ЁЯОп рдХреНрдпрд╛ рдпрд╣ рдХрд░рддрд╛ рд╣реИ?

**Agreements System (рдХрд░рд╛рд░ рдкреНрд░рдгрд╛рд▓реА)** рдЖрдкрдХреЛ CRM рдореЗрдВ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрд░рд╛рд░ рдмрдирд╛рдиреЗ, рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдФрд░ PDF рдХреЗ рд░реВрдк рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ:

1. **рдлрдВрдбрд┐рдВрдЧ рдХрд░рд╛рд░** (рдЬреИрд╕реЗ: FA-20250128-001)
   - рдкрд░рд╛рдорд░реНрд╢ рд╕реЗрд╡рд╛ рдХрд░рд╛рд░
   - 26 рдЦрдВрдб
   
2. **рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд░рд╛рд░** (рдЬреИрд╕реЗ: WA-20250128-001)
   - рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╡рд┐рдХрд╛рд╕ рдХрд░рд╛рд░
   - 17 рдЦрдВрдб

---

## ЁЯЪА рд╢реБрд░реВ рдХрд░реЗрдВ

### 1я╕ПтГг рдирдпрд╛ рдХрд░рд╛рд░ рдмрдирд╛рдПрдВ

```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/create/
```

**рднрд░реЗрдВ:**
- рдХрд░рд╛рд░ рдХрд╛ рдкреНрд░рдХрд╛рд░: рдлрдВрдбрд┐рдВрдЧ рдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯ
- рд╕реЗрд╡рд╛ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдХрд╛ рдирд╛рдо
- рдкрддрд╛
- рд╕реЗрд╡рд╛ рд╡рд┐рд╡рд░рдг
- рдХреБрд▓ рд░рд╛рд╢рд┐
- рдкреНрд░рд╛рдкреНрдд рд░рд╛рд╢рд┐ (рдЪрд░рдг 1)
- рдмрд╛рдХреА рд░рд╛рд╢рд┐ (рдЪрд░рдг 2) - рд╡реИрдХрд▓реНрдкрд┐рдХ
- рдХрдореАрд╢рди %
- рдХрдореАрд╢рди рдХрд╛ рдЪрд░рдг
- рдХрд░реНрдордЪрд╛рд░реА (рд╡реИрдХрд▓реНрдкрд┐рдХ)
- рдХреНрд▓рд╛рдЗрдВрдЯ (рд╡реИрдХрд▓реНрдкрд┐рдХ)

**рдлрд┐рд░:** "Create Agreement" рдмрдЯрди рджрдмрд╛рдПрдВ

### 2я╕ПтГг рд╕рднреА рдХрд░рд╛рд░ рджреЗрдЦреЗрдВ

```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/
```

рдпрд╣рд╛рдБ рдЖрдк рд╕рднреА рдЕрдкрдиреЗ рдХрд░рд╛рд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВред

### 3я╕ПтГг рдХрд░рд╛рд░ рд╡рд┐рд╡рд░рдг

```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/<ID>/
```

рдпрд╣рд╛рдБ рдЖрдк:
- рд╕рдВрдкреВрд░реНрдг рд╡рд┐рд╡рд░рдг рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ
- PDF рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
- рд╕рдВрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
- рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ

### 4я╕ПтГг PDF рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ

```
рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ: "Download PDF" рдмрдЯрди
```

рдпрд╣ рдПрдХ рддреИрдпрд╛рд░ рдкреЗрд╢реЗрд╡рд░ PDF рдмрдирд╛рддрд╛ рд╣реИ рдЬреЛ:
- рд╕рднреА рдХрд░рд╛рд░ рдХреА рдЬрд╛рдирдХрд╛рд░реА рд╕реЗ рднрд░рд╛ рд╣реЛрддрд╛ рд╣реИ
- рд╕рднреА 26 рдпрд╛ 17 рдЦрдВрдб рдХреЗ рд╕рд╛рде
- рдкреНрд░рд┐рдВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░
- рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░

### 5я╕ПтГг рдХрд░рд╛рд░ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ

```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/<ID>/edit/
```

рдХрд┐рд╕реА рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдмрджрд▓реЗрдВ рдФрд░ рдирдпрд╛ PDF рдмрдирд╛рдПрдВред

### 6я╕ПтГг рдХрд░рд╛рд░ рд╣рдЯрд╛рдПрдВ

```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/<ID>/delete/
```

рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд╛рдж рдХрд░рд╛рд░ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

---

## ЁЯУК рдореИрдиреЗрдЬрд░ рдФрд░ рдПрдбрдорд┐рди рдХреЗ рд▓рд┐рдП

### рдореИрдиреЗрдЬрд░ рдбреИрд╢рдмреЛрд░реНрдб
```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/manager/
```
рд╕рднреА рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рдХреЗ рдХрд░рд╛рд░ рджреЗрдЦреЗрдВред

### рдПрдбрдорд┐рди рдбреИрд╢рдмреЛрд░реНрдб
```
рдЬрд╛рдПрдВ: http://localhost:8000/agreements/admin/
```
рд╕рднреА рдХрд░рд╛рд░реЛрдВ рдкрд░ рдкреВрд░рд╛ рдирд┐рдпрдВрддреНрд░рдгред

---

## ЁЯСе рдЕрдиреБрдорддрд┐рдпрд╛рдВ

| рднреВрдорд┐рдХрд╛ | рдЕрдкрдирд╛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ | рд╕рднреА рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ | рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ | PDF |
|--------|----------------|-----------------|-----------|-----|
| Sales | тЬУ | тЬЧ | тЬУ | тЬУ |
| Manager | тЬУ | тЬУ | тЬУ | тЬУ |
| Admin | тЬУ | тЬУ | тЬУ | тЬУ |

---

## ЁЯУЭ PDF рдЯреЗрдореНрдкрд▓реЗрдЯ

### рдлрдВрдбрд┐рдВрдЧ рдХрд░рд╛рд░ PDF (FA)

**рд╢рд╛рдорд┐рд▓ рдЦрдВрдб:**
- рдкрдХреНрд╖реЛрдВ рдФрд░ рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ
- рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рджрд╛рдпрд░рд╛ (26 рдЦрдВрдб)
- рднреБрдЧрддрд╛рди рдХреА рд╢рд░реНрддреЗрдВ
- рдЕрдиреНрдп рд╕рднреА рдХрд╛рдиреВрдиреА рдЦрдВрдб
- рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕реНрддреБрдд

**рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рднрд░рд╛ рдЬрд╛рддрд╛ рд╣реИ:**
- рдХрд░рд╛рд░ рдХреА рддрд╛рд░реАрдЦ
- рд╕реЗрд╡рд╛ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдХрд╛ рдирд╛рдо рдФрд░ рдкрддрд╛
- рд╕реЗрд╡рд╛ рдХрд╛ рд╡рд┐рд╡рд░рдг
- рд╕рднреА рд░рд╛рд╢рд┐рдпрд╛рдБ
- рдХрдореАрд╢рди рдкреНрд░рддрд┐рд╢рдд

### рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд░рд╛рд░ PDF (WA)

**рд╢рд╛рдорд┐рд▓ рдЦрдВрдб:**
- рдкрдХреНрд╖реЛрдВ рдФрд░ рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ
- рдХрд╛рдо рдХрд╛ рджрд╛рдпрд░рд╛ (17 рдЦрдВрдб)
- рднреБрдЧрддрд╛рди рдХреА рд╢рд░реНрддреЗрдВ
- рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕рдВрдмрдВрдзрд┐рдд рдЦрдВрдб
- рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕реНрддреБрдд

---

## ЁЯФз рддрдХрдиреАрдХреА рдЬрд╛рдирдХрд╛рд░реА

### рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕реНрдЯреЛрд░ рд╣реЛрддрд╛ рд╣реИ:
- рдХрд░рд╛рд░ рд╕рдВрдЦреНрдпрд╛ (рд╕реНрд╡рдЪрд╛рд▓рд┐рдд)
- рдХрд░рд╛рд░ рдХрд╛ рдкреНрд░рдХрд╛рд░
- рд╕реЗрд╡рд╛ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдХреА рдЬрд╛рдирдХрд╛рд░реА
- рд╕рднреА рд░рд╛рд╢рд┐рдпрд╛рдБ
- рдХрдореАрд╢рди рд╡рд┐рд╡рд░рдг
- рдХрд┐рд╕рдиреЗ рдмрдирд╛рдпрд╛
- рдХрдм рдмрдирд╛рдпрд╛
- рдЖрдЦрд┐рд░реА рдмрд╛рд░ рдХрдм рдмрджрд▓рд╛

### рдХрдореАрд╢рди рдХреЗ рдЪрд░рдг:
- **Stage 1:** рдкрд╣рд▓реЗ рднреБрдЧрддрд╛рди рдкрд░ рдХрдореАрд╢рди
- **Stage 2:** рджреВрд╕рд░реЗ рднреБрдЧрддрд╛рди рдкрд░ рдХрдореАрд╢рди
- **Stage 3:** рддреАрд╕рд░реЗ рднреБрдЧрддрд╛рди рдкрд░ рдХрдореАрд╢рди

---

## ЁЯУЛ рдХрд░рд╛рд░ рд╕рдВрдЦреНрдпрд╛ рдХреИрд╕реЗ рдмрдирддреА рд╣реИ?

### рдЙрджрд╛рд╣рд░рдг:

**рдлрдВрдбрд┐рдВрдЧ рдХрд░рд╛рд░:**
```
FA-20250128-001
тФВ  тФВ          тФВ
тФВ  тФВ          тФФтФА рдХреНрд░рдо рд╕рдВрдЦреНрдпрд╛ (001, 002, 003...)
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА рддрд╛рд░реАрдЦ (20250128 = 28 рдЬрдирд╡рд░реА 2025)
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА рдкреНрд░рдХрд╛рд░ (FA = Funding Agreement)
```

**рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд░рд╛рд░:**
```
WA-20250128-001
тФВ  тФВ          тФВ
тФВ  тФВ          тФФтФА рдХреНрд░рдо рд╕рдВрдЦреНрдпрд╛
тФВ  тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА рддрд╛рд░реАрдЦ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФА рдкреНрд░рдХрд╛рд░ (WA = Website Agreement)
```

---

## тЬи рдЙрджрд╛рд╣рд░рдг - рдХрджрдо рджрд░ рдХрджрдо

### рдлрдВрдбрд┐рдВрдЧ рдХрд░рд╛рд░ рдХреИрд╕реЗ рдмрдирд╛рдПрдВ:

```
1. http://localhost:8000/agreements/create/ рдкрд░ рдЬрд╛рдПрдВ

2. рд╡рд┐рд╡рд░рдг рднрд░реЗрдВ:
   - рдХрд░рд╛рд░ рдХрд╛ рдкреНрд░рдХрд╛рд░: "Funding" рдЪреБрдиреЗрдВ
   - рдирд╛рдо: "Acme рдХрдВрдкрдиреА"
   - рдкрддрд╛: "123 рдмрд┐рдЬрд╝рдиреЗрд╕ рд╕реНрдЯреНрд░реАрдЯ, рджрд┐рд▓реНрд▓реА"
   - рд╕реЗрд╡рд╛: "рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд╕рд▓рд╛рд╣"
   - рдХреБрд▓ рд░рд╛рд╢рд┐: 5,00,000
   - рдкреНрд░рд╛рдкреНрдд (рдЪрд░рдг 1): 2,50,000
   - рдмрд╛рдХреА (рдЪрд░рдг 2): 2,50,000
   - рдХрдореАрд╢рди: 10%
   - рдХрдореАрд╢рди рдХрд╛ рдЪрд░рдг: "Stage 1"

3. "Create Agreement" рджрдмрд╛рдПрдВ

4. рд╕рд┐рд╕реНрдЯрдо рдпрд╣ рдмрдирд╛рддрд╛ рд╣реИ:
   - рдХрд░рд╛рд░ рд╕рдВрдЦреНрдпрд╛: FA-20250128-001
   - PDF рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░
   - Email рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░
   - рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░

5. рдЕрдм рдЖрдк:
   - PDF рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
   - рдкреНрд░рд┐рдВрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
   - рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ
   - рд╕рдВрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
   - рдЯреНрд░реИрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
```

---

## ЁЯЖШ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░реЗрдВ

### рд╕рдорд╕реНрдпрд╛: "Permission Denied" рджрд┐рдЦрддрд╛ рд╣реИ
**рд╕рдорд╛рдзрд╛рди:** рдЖрдкрдХреА рднреВрдорд┐рдХрд╛ 'sales', 'manager' рдпрд╛ 'admin' рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред Admin panel рдореЗрдВ рдЬрд╛рдВрдЪреЗрдВред

### рд╕рдорд╕реНрдпрд╛: рдХрд░реНрдордЪрд╛рд░реА рдХреА рд╕реВрдЪреА рдЦрд╛рд▓реА рд╣реИ
**рд╕рдорд╛рдзрд╛рди:** рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рдХрд╛ status "ACTIVE" рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред Admin > Employees рдореЗрдВ рдЬрд╛рдВрдЪреЗрдВред

### рд╕рдорд╕реНрдпрд╛: PDF рдирд╣реАрдВ рдмрдирддрд╛
**рд╕рдорд╛рдзрд╛рди:** рдЗрд╕реЗ рдЪрд▓рд╛рдПрдВ:
```bash
pip install xhtml2pdf
```

---

## ЁЯУК рдЖрдВрдХрдбрд╝реЗ рджреЗрдЦреЗрдВ

рд╕рд░реНрд╡рд░ рдХреЗ shell рдореЗрдВ:

```bash
python manage.py shell

# рдХреБрд▓ рдХрд░рд╛рд░
from agreements.models import Agreement
Agreement.objects.count()

# рдлрдВрдбрд┐рдВрдЧ рдХрд░рд╛рд░
Agreement.objects.filter(agreement_type='funding').count()

# рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд░рд╛рд░
Agreement.objects.filter(agreement_type='website').count()
```

---

## ЁЯЪА рдЕрднреА рд╢реБрд░реВ рдХрд░реЗрдВ

### 1. рд╕рд░реНрд╡рд░ рдЪрд▓рд╛рдПрдВ
```bash
python manage.py runserver
```

### 2. рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЦреЛрд▓реЗрдВ
```
http://localhost:8000/agreements/
```

### 3. рдкрд╣рд▓рд╛ рдХрд░рд╛рд░ рдмрдирд╛рдПрдВ
```
http://localhost:8000/agreements/create/
```

### 4. PDF рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ
```
рдХрд┐рд╕реА рднреА рдХрд░рд╛рд░ рд╕реЗ "Download PDF" рдмрдЯрди рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ
```

---

## ЁЯУЮ рд╕рд╣рд╛рдпрддрд╛

рд╕рдорд╕реНрдпрд╛ рд╣реЛ рддреЛ:

1. рдпрд╣ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ:
   ```bash
   python test_agreements_system.py
   ```

2. Admin рджреЗрдЦреЗрдВ:
   ```
   http://localhost:8000/admin/
   ```

3. Migration status рдЬрд╛рдВрдЪреЗрдВ:
   ```bash
   python manage.py showmigrations agreements
   ```

---

## тЬЕ рддреИрдпрд╛рд░!

рдЖрдкрдХреА рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдЕрдм:

тЬУ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрд░рд╛рд░ (рдлрдВрдбрд┐рдВрдЧ рдФрд░ рд╡реЗрдмрд╕рд╛рдЗрдЯ)  
тЬУ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд PDF рдЬрдирд░реЗрд╢рди  
тЬУ рдЕрдиреБрдорддрд┐-рдЖрдзрд╛рд░рд┐рдд рдкрд╣реБрдВрдЪ  
тЬУ рдкреВрд░реНрдг рд╕рдВрдкрд╛рджрди рдХреНрд╖рдорддрд╛  
тЬУ Invoice рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рдПрдХреАрдХрд░рдг  
тЬУ рдкреНрд░реЛрдбрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░  

**рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ!** ЁЯОЙ

---

*Version: 1.0 - рддреИрдпрд╛рд░*
*рддрд╛рд░реАрдЦ: 28 рдЬрдирд╡рд░реА 2025*
